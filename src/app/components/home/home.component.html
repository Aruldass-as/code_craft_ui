<div class="layout">
  <!-- Mobile overlay when sidebar open -->
  <div class="sidebar-overlay" [class.visible]="!isCollapsed" (click)="toggleSidebar()" aria-hidden="true"></div>
  <!-- Sidebar -->
  <aside class="sidebar" [class.collapsed]="isCollapsed">
    <div class="logo">
      <img src="assets/code-craft-logo.png" alt="Code Craft" />
    </div>

    <nav class="menu">
      <button class="menu-item" [class.active]="selectedTab === 'openai'" (click)="selectTab('openai')">
        <span class="icon material-icons">auto_awesome</span>
        <span class="label" *ngIf="!isCollapsed">OpenAI</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'llamaIndex'" (click)="selectTab('llamaIndex')">
        <span class="material-symbols-outlined">game_button_l</span>
        <span class="label" *ngIf="!isCollapsed">LlamaIndex</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'fitness'" (click)="selectTab('fitness')">
        <span class="material-symbols-outlined">fitness_trackers</span>
        <span class="label" *ngIf="!isCollapsed">Fitness</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'web-scrape'" (click)="selectTab('web-scrape')">
        <span class="material-symbols-outlined">web</span>
        <span class="label" *ngIf="!isCollapsed">Web Scrape</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'doc-assist'" (click)="selectTab('doc-assist')">
        <span class="material-symbols-outlined">document_search</span>
        <span class="label" *ngIf="!isCollapsed">Docs Assist</span>
      </button>

      <!-- <button class="menu-item" [class.active]="selectedTab === 'mcp'" (click)="selectTab('mcp')">
        <span class="icon material-icons">auto_awesome</span>
        <span class="label" *ngIf="!isCollapsed">MCP</span>
      </button> -->

      <!-- <button class="menu-item" [class.active]="selectedTab === 'llmmcp'" (click)="selectTab('llmmcp')">
        <span class="icon material-icons">auto_awesome</span>
        <span class="label" *ngIf="!isCollapsed">LLM + MCP</span>
      </button> -->

      <!-- <button class="menu-item" [class.active]="selectedTab === 'rag'" (click)="selectTab('rag')">
        <span class="icon material-icons">auto_awesome</span>
        <span class="label" *ngIf="!isCollapsed">RAG</span>
      </button> -->

      <button class="menu-item" [class.active]="selectedTab === 'gemini'" (click)="selectTab('gemini')">
        <span class="material-symbols-outlined">g_mobiledata</span>
        <span class="label" *ngIf="!isCollapsed">Google gemini</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'claude'" (click)="selectTab('claude')">
        <span class="material-symbols-outlined">copyright</span>
        <span class="label" *ngIf="!isCollapsed">Claude</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'perplexity'" (click)="selectTab('perplexity')">
        <span class="material-symbols-outlined">local_parking</span>
        <span class="label" *ngIf="!isCollapsed">Perplexity</span>
      </button>

      <button class="menu-item" [class.active]="selectedTab === 'about'" (click)="selectTab('about')">
        <span class="icon material-icons">info</span>
        <span class="label" *ngIf="!isCollapsed">About</span>
      </button>
    </nav>

    <div class="spacer"></div>
    <div class="collapse-btn" (click)="toggleSidebar()" title="Toggle sidebar">
      <span class="material-icons">chevron_left</span>
    </div>
  </aside>

  <main class="main-area">
    <header class="topbar">
      <div class="top-left">
        <button class="hamburger" (click)="toggleSidebar()">
          <span class="material-icons">menu</span>
        </button>
        <h2 class="page-title">{{ selectedTab | titlecase }}</h2>
      </div>
      <div class="top-right">
        <div class="profile-mini" (click)="openProfile()">
          <img [src]="profile.photoUrl || 'assets/profile.png'" alt="User" />
        </div>
      </div>
    </header>

    <!-- OpenAI Section -->
    <section *ngIf="selectedTab === 'openai'" class="section-wrapper">
      <div class="grid">
        <div class="card">
          <h6>Chatbot with OpenAI</h6>
          <app-chatbot></app-chatbot>
        </div>
        <div class="card">
          <h6>Generate Image with OpenAI</h6>
          <app-image-generate></app-image-generate>
        </div>
        <div class="card">
          <h6>Voice Recognition</h6>
          <app-voice-recognition></app-voice-recognition>
        </div>
        <!-- <div class="card">
          <h6>Video Generation</h6>
          <app-video-gen></app-video-gen>
        </div> -->
        <!-- <div class="card">
          <h6>AI Conversation</h6>
          <app-ai-conversation></app-ai-conversation>
        </div> -->
      </div>
    </section>

    <!-- llamaIndex -->
    <section *ngIf="selectedTab === 'llamaIndex'" class="section-wrapper">
      <!-- <div class="grid"> -->
        <div class="card">
          <h6><b>LlamaIndex</b></h6>
           <p><i>Note: This app helps you quickly find answers from the document using AI.</i></p>
           <app-llama-index></app-llama-index>
        </div>
      <!-- </div> -->
    </section>

    <!-- Fitness -->
    <section *ngIf="selectedTab === 'fitness'" class="section-wrapper">
      <!-- <div class="grid"> -->
        <div class="card">
          <h6>Fitness</h6>
           <app-fitness></app-fitness>
        </div>
      <!-- </div> -->
    </section>

    <!-- Web Scrape -->
    <section *ngIf="selectedTab === 'web-scrape'" class="section-wrapper">
      <div class="grid">
        <div class="card">
          <h6><b>Web Scrape</b></h6>
          <p><i>Note: Reads web pages and summarizes their information instantly using AI.</i></p>
          <app-web-scrape></app-web-scrape>
        </div>
      </div>
    </section>

        <!-- Docs Assist -->
    <section *ngIf="selectedTab === 'doc-assist'" class="section-wrapper">
      <div class="grid">
        <div class="card">
          <h6><b>Docs Assist</b></h6>
          <p><i>Note: Upload a document,assistant quickly finds and explains key information.</i></p>
          <app-research-assistant></app-research-assistant>
        </div>
      </div>
    </section>

    <!-- Google gemini -->
    <section *ngIf="selectedTab === 'gemini'" class="section-wrapper">
      <div class="grid">
        <div class="card">
          <h6>Google gemini</h6>
          <app-gemini-chatbot></app-gemini-chatbot>
        </div>
      </div>
    </section>

    <!-- Claude -->
    <section *ngIf="selectedTab === 'claude'" class="section-wrapper">
      <div class="grid">
        <div class="card">
          <h6>Claude</h6>
          <app-claude-chatbot></app-claude-chatbot>
        </div>
      </div>
    </section>

    <!-- Perplexity -->
    <section *ngIf="selectedTab === 'perplexity'" class="section-wrapper">
      <div class="grid">
        <div class="card">
          <h6>Perplexity</h6>
          <app-perplexity-chatbot></app-perplexity-chatbot>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section *ngIf="selectedTab === 'about'" class="section-wrapper about-section">
      <div class="about-card">
        <img [src]="profile.photoUrl" class="profile-photo" />
        <h2>{{ profile.name }}</h2>
        <p class="designation">{{ profile.designation }}</p>
        <div class="contact">
          <a *ngIf="profile.phone" [href]="'tel:' + profile.phone">{{ profile.phone }}</a>
          <a *ngIf="profile.gmail" [href]="'mailto:' + profile.gmail">{{ profile.gmail }}</a>
          <a *ngIf="profile.mail" [href]="'mailto:' + profile.mail">{{ profile.mail }}</a>
        </div>
        <div class="social">
          <a *ngIf="profile.linkedin" [href]="profile.linkedin" target="_blank"><img src="assets/linkedin.png" /></a>
          <a *ngIf="profile.github" [href]="profile.github" target="_blank"><img src="assets/github.png" /></a>
        </div>
      </div>
    </section>
  </main>
</div>